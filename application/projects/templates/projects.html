{% extends "projects/layout.html" %}
{% block title %}
    {{ title }}
{% endblock %}
{% block content %}     
<section 
    class="Projects">


    <div 
        class="Projects__description"
        role="main"
        aria-label="project description">

        <div 
            class="Projects__description__title" 
            id="title-container">
            <div 
                id="title-project-year">
                {{ projects[0].year }}
            </div>
            <div 
                id="title-text">
                {{ projects[0].title }}
            </div>
        </div>

        <div 
            id="title-separator" 
            style="border-color: {{ colours[projects|length - 1] }};">
        </div>
                
        <div 
            class="Projects__description__content" 
            id="content-container">
            <div 
                class="Projects__description__content__item">
                <span>Objectives</span>
                <span
                    id="content-objectives">
                    {{ projects[0].objectives }}
                </span>
            </div>
            <div 
                class="Projects__description__content__item">
                <span>Description</span>
                <span
                    id="content-description">
                    {{ projects[0].description }}
                </span>
            </div>
        </div>

        <div 
            class="Projects__description__stats"
            id="stats-container">
                
            <div 
                class="Projects__description__stats__item">
                Back-end
                <div
                    id="stats-stack-backend">
                    {%- for item in projects[0].stack.backend -%}
                        {%- for name, url in item.items() -%}
                            <button
                                class="stack__button">
                                <a 
                                    href="{{ url }}" 
                                    target="_blank">
                                    {{ name }}
                                </a>
                            </button>
                        {%- endfor -%}
                    {%- endfor -%}
                </div>
            </div>

            <div 
                class="Projects__description__stats__item">
                Front-end
                <div 
                    id="stats-stack-frontend">
                    {%- for item in projects[0].stack.frontend -%}
                        {%- for name, url in item.items() -%}
                            <button
                                class="stack__button">
                                <a 
                                    href="{{ url }}" 
                                    target="_blank">
                                    {{ name }}
                                </a>
                            </button>
                        {%- endfor -%}
                    {%- endfor -%}
                </div>
            </div>

            <div 
                class="Projects__description__stats__item">
                Tools
                <div 
                    id="stats-stack-tools">
                    {%- for item in projects[0].stack.tools -%}
                        {%- for name, url in item.items() -%}
                            <button
                                class="stack__button">
                                <a 
                                    href="{{ url }}" 
                                    target="_blank">
                                    {{ name }}
                                </a>
                            </button>
                        {%- endfor -%}
                    {%- endfor -%}
                </div>
            </div>
            
        </div>

        <div
            class="Projects__description__access"
            id="access-links">
            {%- for language in projects[0].url -%}
                {%- for name, url in language.items() -%}
                    <button
                        class="access__button">
                        <a 
                            href="{{ url }}" 
                            target="_blank">
                            Open <span class="access__button__language">({{ name }})</span>
                        </a>
                    </button>
                {%- endfor -%}
            {%- endfor -%}
        </div>
    </div>


    <div 
        class="Projects__demo"
        role="main"
        aria-label="project demonstration video">
        <video 
            id="demo-video"
            poster="{{ projects[0].thumb }}"
            muted
            autoplay
            loop>
            <source
                id="demo-video-src"
                src="{{ projects[0].demo }}"
                type="video/webm">
        </video>
    </div>


    <div
        class="Projects__selector"
        role="menubar"
        aria-label="projects selector">
    
        <div
            class="Projects__selector__container">
            {%- for project in projects -%}
                <img
                    class="Projects__selector__button__image" 
                    src="{{ project.thumb }}"
                    data-project-id="{{ project._id }}">
            {%- endfor -%}
        </div>
    </div>
</section>
{% endblock %}